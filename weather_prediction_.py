# -*- coding: utf-8 -*-
"""Weather Prediction .ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1ZjaQk5FPZr75vmMIEwUS_Q0HBgiWMpND
"""

#Import the libraries
import numpy as np
import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
import pickle

#Read the csv file
data = pd.read_csv("austin_weather.csv")
#replace "-" values with 0
data = data.replace('-', 0.0)
data.head()

#Data Cleaning and getting the necessary columns for our Linear Regression#
X = data.iloc[:,[5]].values

Y = data.iloc[:,2].values

#X = X[np.logical_not(np.isnan(X))]

#Y = Y[np.logical_not(np.isnan(Y))]

#X = np.delete(X, (0), axis=0)

#Y.shape
#X.shape



#SPlitting our data into Training and Testing sets
X_train, X_test, y_train, y_test = train_test_split(X ,Y, random_state = 0)



#Linear Regression object 
regressor = LinearRegression()

#Fitting the Linear regression to our training set
regressor.fit(X_train,y_train)



#Predicted y values based on our linear regression model 
y_pred = regressor.predict(X_test)

#pickling
#filename = 'data'
#outfile = open(filename, 'wb')

#pickle.dump(regre)


## trying out new stuff
pickle.dump(regressor, open('weather_prediction_.pkl','wb'))

model = pickle.load(open('weather_prediction_.pkl','rb'))
print(model.predict([[4]]))

#Linear Regression score
#0.73 is a pretty good score
#regressor.score(X_test,y_test)

#val = int(input( "Enter your value: "))

#my_var = np.array([[49]])
#my_var = np.array([[33]])

#pred_fun = regressor.predict([[val]])
#pred_fun

#Converting Temperature values from Farenheight to Celsius
#celsius = ( pred_fun - 32) / 1.8

#print(celsius)



